<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Migrate to the UK</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: #001f3f; /* dark ocean background */
    font-family: sans-serif;
    color: white;
    text-align: center;
  }
  canvas {
    display: block;
    margin: auto;
    background: #001f3f;
  }
  #gameOver {
    position: absolute;
    top: 40%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 48px;
    display: none;
  }
</style>
</head>
<body>
<canvas id="gameCanvas" width="600" height="800"></canvas>
<div id="gameOver">Game Over! Refresh to try again.</div>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

const boat = {
  x: canvas.width/2 - 25,
  y: canvas.height - 100,
  width: 50,
  height: 80,
  speed: 7
};

const obstacles = [];
let frames = 0;
let gameOver = false;

// Key control
const keys = {};
document.addEventListener('keydown', e => keys[e.key] = true);
document.addEventListener('keyup', e => keys[e.key] = false);

// Create obstacles
function createObstacle() {
  const width = Math.random() * 50 + 30;
  const x = Math.random() * (canvas.width - width);
  obstacles.push({x, y: -50, width, height: 50, speed: Math.random()*3+2});
}

// Draw the boat (simple dark-skinned man in boat)
function drawBoat() {
  // Boat
  ctx.fillStyle = '#654321';
  ctx.fillRect(boat.x, boat.y, boat.width, boat.height);

  // Person (circle head)
  ctx.fillStyle = '#3b2f2f'; // dark skin
  ctx.beginPath();
  ctx.arc(boat.x + boat.width/2, boat.y + 20, 10, 0, Math.PI*2);
  ctx.fill();
}

// Draw obstacles
function drawObstacles() {
  ctx.fillStyle = '#ff4136'; // red obstacles
  obstacles.forEach(obs => {
    ctx.fillRect(obs.x, obs.y, obs.width, obs.height);
  });
}

// Update game objects
function update() {
  // Move boat
  if (keys['ArrowLeft'] && boat.x > 0) boat.x -= boat.speed;
  if (keys['ArrowRight'] && boat.x + boat.width < canvas.width) boat.x += boat.speed;

  // Move obstacles
  obstacles.forEach(obs => obs.y += obs.speed);

  // Remove offscreen obstacles
  while(obstacles.length && obstacles[0].y > canvas.height) obstacles.shift();

  // Collision detection
  obstacles.forEach(obs => {
    if (boat.x < obs.x + obs.width &&
        boat.x + boat.width > obs.x &&
        boat.y < obs.y + obs.height &&
        boat.y + boat.height > obs.y) {
      gameOver = true;
    }
  });

  // Spawn new obstacles
  if (frames % 60 === 0) createObstacle();

  frames++;
}

// Draw everything
function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  drawBoat();
  drawObstacles();
}

// Main game loop
function loop() {
  if (!gameOver) {
    update();
    draw();
    requestAnimationFrame(loop);
  } else {
    document.getElementById('gameOver').style.display = 'block';
  }
}

// Start game
loop();
</script>
</body>
</html>

